{% extends "base.html" %} {% block content %}
<script src="{{ url_for('static', filename='src/js/character_create.js') }}" type="module"></script>
<div class="body-container">
    <div class="create-header">
        <div>
            <button class="button is-link purple" id="roll-all" type="button" style="margin-right: 8px">
                {{_('Roll All')}}
                <i class="fa-solid fa-dice icon-in-button"></i>
            </button>
            <button class="button is-link blue" id="roll-remaining" type="button" style="margin-right: 8px">
                {{_('Roll Remaining')}}
                <i class="fa-solid fa-dice icon-in-button"></i> </button>
        </div>
        <button class="button" id="reset-button" type="button" hx-get="/reload-page?link=/new_character/"
            hx-confirm="{{_('Do you want to reset character?')}}" data-confirm-title="{{_('Reset character')}}"
            data-confirm-button="{{_('Reset')}}" data-cancel-button="{{_('Cancel')}}">
            {{_('Reset')}}
            <i class="fa-solid fa-rotate-right icon-in-button"></i>
        </button>
    </div>
    <form class="sheet" method="POST" id="character-form">
        <!--  portrait -->
        <div style="display: flex; flex-direction: row; gap: 1em; margin-bottom: 1em">
            <div class="no-space" id="character-portrait-container">
                {% include "partial/charcreo/portrait_img.html" %}
            </div>
            <h1 style="max-width: 200px">{{_('New Character')}}</h1>
        </div>
        <!-- Fields -->
        <div class="create-background-name-container">
            <div class="background-fields-and-image-container" id="background-name-container">
                {% include "partial/charcreo/fields.html" %}
            </div>
            {% if form.custom_name.errors %}
            <div class="message is-danger">
                <ul class="message-header rounded">
                    {% for error in form.custom_name.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            <div id="background-tables-container">
                <div class="background-table-container">
                    <!-- <label id="table1-question">Background Table 1</label> -->
                    <p class="table-question" id="table1-question"></p>
                    <div class="table-border">
                        <div class="create-field-dice-container" id="background-table1-container">
                            <div class="select">
                                <select class="create-select-field" id="background-table1-select" required>
                                    <option value="">{{_('Table')}} {{_('(d6)')}}...</option>
                                </select>
                            </div>
                            <button class="roll button dice-button" type="button" data-target="table1">
                                <i class="fa-solid fa-dice dice"></i>
                            </button>
                        </div>
                        <div class="columns" style="margin-top: 2px">
                            <div class="column">
                                <p class="text-border create-top-text-field" id="background-table1-description"
                                    style="min-height: 120px"></p>
                            </div>
                        </div>
                    </div>
                    <button class="button hidden" id="show-gear-table-1" type="button"> {{_('Gear Table 1')}} </button>
                </div>
                <div class="background-table-container">
                    <!-- <label id="table2-question">Background Table 2</label> -->
                    <p class="table-question" id="table2-question"></p>
                    <div class="table-border">
                        <div class="create-field-dice-container">
                            <div class="select">
                                <select class="create-select-field" id="background-table2-select" required>
                                    <option value>{{_('Table')}} {{_('(d6)')}}...</option>
                                </select>
                            </div>
                            <button class="roll button dice-button" type="button" data-target="table2">
                                <i class="fa-solid fa-dice dice"></i>
                            </button>
                        </div>
                        <div class="columns" style="margin-top: 2px">
                            <div class="column">
                                <p class="text-border create-top-text-field" id="background-table2-description"
                                    style="min-height: 120px"></p>
                            </div>
                        </div>
                    </div>
                    <button class="button hidden" id="show-gear-table-2" type="button"> {{_('Gear Table 2')}} </button>
                </div>
            </div>
        </div>
    </form>
</div>
{% endblock %}